trigger: none
pr: none

parameters:
  - name: environment
    type: string
    default: ref
    values:
      - ref
      - prod
  - name: generalParams
    type: string
    default: team-webb-general-params
  - name: appName
    type: string
    displayName: "Name for the storage account/rg in azure"

variables:
  - group: ${{ parameters.generalParams }}
  - group: webb-spoke1-${{ parameters.environment }}

resources:
  repositories:
    - repository: cet-iac
      type: git
      name: Cloud Excellence Team/cet-iac
      ref: main

pool:
  vmImage: "ubuntu-latest"

steps:
  - template: templates/static-web/infra.yml@cet-iac
    parameters:
      location: $(location)
      appName: ${{ parameters.appName }}
